import{j as e,L as t}from"./index-655d3ef3.js";import{r as s,g as a,l,m as r,X as i,C as d,n}from"./ui-vendors-d35e5635.js";import"./firebase-lib-1a6647fc.js";const c=()=>{const[c,o]=s.useState([]),[x,m]=s.useState([]),[h,p]=s.useState(!0),[b,u]=s.useState([]),g=async()=>{p(!0);const[e,s]=await Promise.all([t.getActiveTransactions(),t.getAnnouncements(!0)]);o(e),m(s),p(!1)};s.useEffect(()=>{g()},[]);const j=e=>new Date>new Date(e);return h?e.jsx("div",{className:"p-8 text-center",children:"Panel verileri yükleniyor..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Kütüphane Paneli"}),e.jsx("button",{onClick:g,className:"text-sm font-bold text-cyan-600 hover:text-cyan-700 uppercase tracking-widest transition-colors",children:"Verileri Yenile"})]}),x.length>0&&x.filter(e=>!b.includes(e.id)).length>0&&e.jsx("div",{className:"space-y-4 animate-soft-fade",children:x.filter(e=>!b.includes(e.id)).map(t=>e.jsxs("div",{className:"relative overflow-hidden p-6 rounded-[2rem] border shadow-sm transition-all hover:shadow-md "+("URGENT"===t.type?"bg-rose-50 border-rose-100":"WARNING"===t.type?"bg-amber-50 border-amber-100":"bg-indigo-50 border-indigo-100"),children:[e.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[e.jsx("div",{className:"p-3 rounded-2xl "+("URGENT"===t.type?"bg-rose-600 text-white":"WARNING"===t.type?"bg-amber-500 text-white":"bg-indigo-600 text-white"),children:"URGENT"===t.type?e.jsx(a,{size:24}):"WARNING"===t.type?e.jsx(l,{size:24}):e.jsx(r,{size:24})}),e.jsxs("div",{className:"flex-1 pr-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"font-black uppercase tracking-tight "+("URGENT"===t.type?"text-rose-900":"WARNING"===t.type?"text-amber-900":"text-indigo-900"),children:t.title}),e.jsx("span",{className:"text-[10px] font-black opacity-30 uppercase tracking-[0.2em]",children:new Date(t.createdAt).toLocaleDateString()})]}),e.jsx("p",{className:"mt-1 font-medium text-sm leading-relaxed "+("URGENT"===t.type?"text-rose-700":"WARNING"===t.type?"text-amber-700":"text-indigo-700"),children:t.message})]}),e.jsx("button",{onClick:()=>u([...b,t.id]),className:"absolute top-0 right-0 p-2 text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(i,{size:20})})]}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 rounded-full blur-3xl opacity-20 "+("URGENT"===t.type?"bg-rose-500":"WARNING"===t.type?"bg-amber-500":"bg-indigo-500")})]},t.id))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100 relative overflow-hidden group hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Aktif Ödünçler"}),e.jsx("h3",{className:"text-4xl font-black text-slate-900 mt-1",children:c.length})]}),e.jsx("div",{className:"bg-cyan-50 p-4 rounded-2xl text-cyan-600 group-hover:scale-110 transition-transform",children:e.jsx(d,{size:28})})]}),e.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-cyan-50/50 rounded-full blur-2xl"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100 relative overflow-hidden group hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Gecikmiş Kitaplar"}),e.jsx("h3",{className:"text-4xl font-black text-rose-600 mt-1",children:c.filter(e=>j(e.dueDate)).length})]}),e.jsx("div",{className:"bg-rose-50 p-4 rounded-2xl text-rose-600 group-hover:scale-110 transition-transform",children:e.jsx(a,{size:28})})]}),e.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-rose-50/50 rounded-full blur-2xl"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100 relative overflow-hidden group hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Zamanında Teslimler"}),e.jsx("h3",{className:"text-4xl font-black text-emerald-600 mt-1",children:c.filter(e=>!j(e.dueDate)).length})]}),e.jsx("div",{className:"bg-emerald-50 p-4 rounded-2xl text-emerald-600 group-hover:scale-110 transition-transform",children:e.jsx(n,{size:28})})]}),e.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-emerald-50/50 rounded-full blur-2xl"})]})]}),e.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-xl shadow-slate-200/50 border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-black text-slate-700 uppercase tracking-widest",children:"Aktif Ödünç Listesi"}),e.jsxs("span",{className:"text-[10px] font-bold bg-slate-200 text-slate-600 px-2 py-1 rounded-lg uppercase tracking-tighter",children:["Toplam: ",c.length]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/30 text-slate-400 text-[11px] font-black uppercase tracking-widest border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-4",children:"Öğrenci Bilgisi"}),e.jsx("th",{className:"px-8 py-4",children:"Kitap Detayı"}),e.jsx("th",{className:"px-8 py-4 text-center",children:"Tarih Aralığı"}),e.jsx("th",{className:"px-8 py-4 text-center",children:"Durumu"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:0===c.length?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-8 py-20 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center text-slate-300",children:e.jsx(d,{size:32})}),e.jsx("p",{className:"text-slate-400 font-bold text-sm uppercase tracking-widest",children:"Ödünç verilmiş kitap bulunmuyor"})]})})}):c.map(t=>{const s=j(t.dueDate),a=(e=>{const t=new Date(e),s=new Date,a=Math.abs(s.getTime()-t.getTime());return Math.ceil(a/864e5)})(t.issueDate);return e.jsxs("tr",{className:"group transition-all hover:bg-slate-50/80 "+(s?"bg-rose-50/30":""),children:[e.jsxs("td",{className:"px-8 py-5",children:[e.jsx("div",{className:"font-bold text-slate-900 group-hover:text-cyan-600 transition-colors",children:t.student.name}),e.jsx("div",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mt-0.5",children:t.student.studentNumber})]}),e.jsxs("td",{className:"px-8 py-5",children:[e.jsx("div",{className:"font-bold text-slate-800",children:t.book.title}),e.jsxs("div",{className:"text-[11px] font-medium text-slate-500 mt-0.5",children:["ISBN: ",t.book.isbn]})]}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"text-xs font-bold text-slate-600",children:[new Date(t.issueDate).toLocaleDateString("tr-TR")," - ",new Date(t.dueDate).toLocaleDateString("tr-TR")]}),e.jsxs("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter mt-1 bg-slate-100 px-2 py-0.5 rounded-full",children:[a," Gündür Okuyor"]})]})}),e.jsx("td",{className:"px-8 py-5 text-center",children:e.jsx("span",{className:"inline-flex items-center px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest "+(s?"bg-rose-100 text-rose-700 shadow-sm shadow-rose-200":"bg-emerald-100 text-emerald-700 shadow-sm shadow-emerald-200"),children:s?"Gecikmiş":"Zamanında"})})]},t.id)})})]})})]})]})};export{c as Dashboard};
